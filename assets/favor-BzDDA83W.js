import{m as C,d as F,a as N,s as $,o as e,c as a,F as p,r as g,u as d,b as s,t as c,e as b,n as S,p as P,f as H,_ as w,g as I,h as V,i as v,w as m,j as T,k as j}from"./index-Dp337umc.js";import{N as R}from"./navBar-DL_KOwAu.js";import{T as z,a as O}from"./index--B-lkCBK.js";function U(){return C.get({url:"favor/list"})}function q(){return C.get({url:"favor/history"})}const L=F("favor",{state:()=>({favorlist:{},historylist:{},index:0}),actions:{async fetchFavorList(){const o=await U();this.favorlist=o.data.data},async fetchHistoryList(){const o=await q();console.log(o.data),this.historylist=o.data.data}}}),k=o=>(P("data-v-9bd0b26f"),o=o(),H(),o),D={class:"list_house"},E={class:"recomm_land_img"},Y={class:"img"},A=["src"],G={class:"logo"},J=["src"],K=k(()=>s("div",{class:"favor"},null,-1)),M=k(()=>s("div",{class:"comment"},null,-1)),Q={class:"rec"},W={class:"score"},X={class:"text"},Z={class:"info"},ss={class:"add_summery"},ts={class:"address"},os={class:"summeries"},es={key:0},as={class:"title"},is={class:"houseTags"},cs={class:"price_badge"},rs={class:"finalPrice"},ls=k(()=>s("div",{class:"CNY"},"￥",-1)),ns={class:"price"},ds={class:"productPrice"},_s=N({__name:"list-house",props:{favorlist:{type:Object},historylist:{type:Object}},setup(o){const u=L(),{index:y}=$(u);return(x,r)=>(e(),a("div",D,[(e(!0),a(p,null,g((d(y)==0?o.favorlist:o.historylist).items,(t,h)=>{var _,i,f;return e(),a("div",{key:h,class:"house"},[s("div",E,[s("div",Y,[s("img",{src:t.defaultPicture,alt:""},null,8,A)]),s("div",G,[s("img",{src:t.logoUrl,alt:""},null,8,J)]),K,M,s("div",Q,[s("div",W,c(t.commentBrief.overall)+"分",1),s("div",X,c(t.commentBrief.scoreTitle),1)])]),s("div",Z,[s("div",ss,[s("div",ts,c(t.address),1),s("div",os,[(e(!0),a(p,null,g(t.unitSummeries,(l,n)=>(e(),a(p,{key:n},[s("span",null,c(l.text),1),n<t.unitSummeries.length-1?(e(),a("span",es," · ")):b("",!0)],64))),128))])]),s("div",as,c(t.unitName),1),s("div",is,[(e(!0),a(p,null,g(t.houseTags,(l,n)=>(e(),a("span",{class:"item",style:S({color:l.color,backgroundColor:l.background.color})},c(l.text),5))),256))]),s("div",cs,[s("div",rs,[ls,s("div",ns,c(t.finalPrice),1)]),s("div",ds,"￥"+c(t.productPrice),1),s("div",{class:"tipBadge",style:S({color:(_=t.priceTipBadge)==null?void 0:_.color,backgroundColor:(i=t.priceTipBadge)==null?void 0:i.gradient.startColor})},c((f=t.priceTipBadge)==null?void 0:f.text),5)])])])}),128))]))}}),B=w(_s,[["__scopeId","data-v-9bd0b26f"]]),vs={class:"favor"},us={class:"item_tw"},fs={key:0,class:"favorlist"},hs={key:1,class:"historylist"},ps=N({__name:"favor",setup(o){I();const u=L();u.fetchFavorList(),u.fetchHistoryList();const{favorlist:y,historylist:x,index:r}=$(u),t=V(0),h=_=>{r!=_&&(r.value=_)};return console.log(r.value),(_,i)=>{const f=z,l=O;return e(),a("div",vs,[v(R,null,{default:m(()=>[s("div",us,[s("div",{class:T(["favor item",d(r)==0?"active":""]),onClick:i[0]||(i[0]=n=>h(0))},"我的收藏",2),s("div",{class:T(["history item",d(r)==1?"active":""]),onClick:i[1]||(i[1]=n=>h(1))},"浏览历史",2)])]),_:1}),d(r)==0?(e(),a("div",fs,[v(l,{active:t.value,"onUpdate:active":i[2]||(i[2]=n=>t.value=n)},{default:m(()=>[v(f,{title:"房屋"},{default:m(()=>[v(B,{favorlist:d(y)},null,8,["favorlist"])]),_:1}),v(f,{title:"房东"},{default:m(()=>[j("内容 2 ")]),_:1})]),_:1},8,["active"])])):b("",!0),d(r)==1?(e(),a("div",hs,[v(B,{historylist:d(x)},null,8,["historylist"])])):b("",!0)])}}}),bs=w(ps,[["__scopeId","data-v-02216346"]]);export{bs as default};
